import{s as m,o as _,a as h,r as g,b as r,c as n,d as i,u as f,w as l,F as c,H as b,e,q as v,f as y}from"./app.8edf34a8.js";import{_ as k}from"./DashboardLayout.1941c56a.js";import"./_plugin-vue_export-helper.cdc0426e.js";const x={class:"my-properties"},C={class:"property-form-group"},w={class:"row"},N={class:"col-md-12"},F={class:"prperty-submit-button pt-5"},P=y("I Am Done With Pictures"),D={class:"col-md-12"},I={class:"row"},z=["src"],A={class:"checkboxes float-left"},E={class:"filter-tags-wrap"},j=["id","value","data-name"],q=["for"],B=e("small",null,"Delete",-1),G=[B],H={class:"col-md-12"},L={method:"post",action:"/dashboard/uploads",class:"dropzone",enctype:"multipart/form-data"},M=["value"],V=["value"],O={__name:"EditPropertyImages",props:{props:Object},setup(s){const p=m({id:null}),u=o=>{let a=o.target.id,d=o.target.getAttribute("data-name");p.id=a,axios.delete(route("deletes",[a,d])).then(t=>{t.data.trim()=="success"&&o.target.parentNode.parentNode.parentNode.remove()}).catch(t=>{console.error(t),o.target.removeAttribute("disabled")}).finally(()=>{console.log("success")}),o.target.setAttribute("disabled",""),o.target.parentNode.querySelector("small").textContent="Deleting..."};return _(()=>{$("body").addClass("inner-pages maxw1600 m0a dashboard-bd"),$(".header-user-name").on("click",function(){$(".header-user-menu ul").toggleClass("hu-menu-vis"),$(this).toggleClass("hu-menu-visdec")}),$(".dropzone").dropzone({dictDefaultMessage:"<i class='fa fa-cloud-upload'></i> Click or Drop Images Here To Uplod",acceptedFiles:".jpeg,.png,.gif,.JPEG,.Jpeg,.jpg,.PNG,.GIF",previewsContainer:document.querySelector(".dropzone"),maxFiles:20})}),h(()=>{$("body").removeClass("inner-pages maxw1600 m0a dashboard-bd")}),(o,a)=>{const d=g("Link");return r(),n(c,null,[i(f(b),{title:"Edit Property Images"}),i(k,{props:s.props},{default:l(()=>[e("div",x,[e("div",C,[e("div",w,[e("div",N,[e("div",F,[i(d,{href:o.route("myProperties"),as:"button"},{default:l(()=>[P]),_:1},8,["href"])])]),e("div",D,[e("div",I,[(r(!0),n(c,null,v(s.props.images,t=>(r(),n("div",{key:t.id,class:"col-md-3 col-6 col-sm-6 col-lg-3"},[e("img",{src:`/photos/${t.image_name}`},null,8,z),e("div",A,[e("div",E,[e("input",{onChange:u,id:t.id,value:t.id,"data-name":t.image_name,type:"checkbox",name:"check"},null,40,j),e("label",{for:t.id},G,8,q)])])]))),128))])]),e("div",H,[e("form",L,[e("input",{type:"hidden",value:s.props.token,name:"_token",id:"token_id"},null,8,M),e("input",{type:"hidden",value:s.props.property_id,name:"property_id",id:"property_id"},null,8,V)])])])])])]),_:1},8,["props"])],64)}}};export{O as default};
